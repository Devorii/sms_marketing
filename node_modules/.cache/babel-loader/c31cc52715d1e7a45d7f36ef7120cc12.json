{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/devorii/Desktop/smsmarket/oriisms/src/Message.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, Ref, useRef } from 'react';\nimport Footer from './components/Footer';\nimport Cookies from \"js-cookie\";\nimport CreateMsgbutton from './components/Createmsgbutton';\n\nconst Message = props => {\n  _s();\n\n  const [messageItem, setMessageItem] = useState({\n    items: null,\n    loaded: false\n  });\n  const [selected, setSelected] = useState(props.selected);\n  const [selectID, setSelectID] = useState();\n  useEffect(() => {\n    fetch(\"http://localhost:5000/onload-messages\", {\n      method: \"GET\",\n      mode: \"cors\",\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"x-access-token\": Cookies.get(\"token\")\n      }\n    }).then(resp => resp.json()).then(items => {\n      setMessageItem({\n        items: Object.values(items),\n        loaded: true\n      }); // Call another fetch to return an obj\n\n      setSelectID({\n        id: Object.values(items)[0].id\n      });\n      return fetch(`http://localhost:5000/template/${Object.values(items)[0].id}`, {\n        method: \"GET\",\n        mode: \"cors\",\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\",\n          \"Access-Control-Allow-Origin\": \"*\",\n          \"x-access-token\": Cookies.get(\"token\")\n        }\n      });\n    }).then(response => response.json()).then(resp_items => {\n      console.log(resp_items + \" New Response\");\n    });\n  }, []); // TESTING\n\n  const changeTest = e => {\n    console.log(e.target.value);\n  };\n\n  var {\n    loaded\n  } = messageItem;\n\n  if (!loaded) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 5\n      }, this)\n    }, void 0, false);\n  } else {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"app-bg\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cardHolder\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"message_card\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"image_holder\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"displayImg\",\n                src: `http://localhost:5000/images/${selectID.id}`,\n                alt: \"content_image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 6\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 5\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            textAlign: 'left',\n            marginLeft: '5%'\n          },\n          children: \"Select Template\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"selectId\",\n          onChange: changeTest,\n          children: messageItem.items.map(obj => /*#__PURE__*/_jsxDEV(\"option\", {\n            style: {\n              color: '#6B6B6B',\n              display: 'flex',\n              flexDirection: 'column'\n            },\n            value: obj.id,\n            children: obj.title\n          }, obj.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"msgBtn\",\n          children: /*#__PURE__*/_jsxDEV(CreateMsgbutton, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 8\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  }\n};\n\n_s(Message, \"N7iIQxA8p0WYmGSx5YUaAgaygo8=\");\n\n_c = Message;\nexport default Message;\n\nvar _c;\n\n$RefreshReg$(_c, \"Message\");","map":{"version":3,"sources":["/Users/devorii/Desktop/smsmarket/oriisms/src/Message.js"],"names":["React","useEffect","useState","Ref","useRef","Footer","Cookies","CreateMsgbutton","Message","props","messageItem","setMessageItem","items","loaded","selected","setSelected","selectID","setSelectID","fetch","method","mode","headers","get","then","resp","json","Object","values","id","response","resp_items","console","log","changeTest","e","target","value","textAlign","marginLeft","map","obj","color","display","flexDirection","title"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, Ref, useRef } from 'react'\nimport Footer from './components/Footer'\nimport Cookies from \"js-cookie\";\nimport CreateMsgbutton from './components/Createmsgbutton';\n\nconst Message = (props) => {\n\tconst [messageItem, setMessageItem] = useState({\n\t\titems: null,\n\t\tloaded: false,\n    });\n\tconst [selected, setSelected] = useState(props.selected);\n\tconst [selectID, setSelectID] = useState()\n\n\tuseEffect(() => {\n\n\t\tfetch(\"http://localhost:5000/onload-messages\", {\n\t\t\tmethod: \"GET\",\n\t\t\tmode: \"cors\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/x-www-form-urlencoded\",\n\t\t\t\t\"Access-Control-Allow-Origin\": \"*\",\n\t\t\t\t\"x-access-token\": Cookies.get(\"token\"),\n\t\t\t},\n\t\t})\n\t\t\t.then((resp) => resp.json())\n\t\t\t.then((items) => {\n\t\t\t\tsetMessageItem({ items: Object.values(items), loaded: true });\n\t\t\t\t// Call another fetch to return an obj\n\t\t\t\tsetSelectID({id: Object.values(items)[0].id})\n\n\t\t\t\treturn fetch(`http://localhost:5000/template/${Object.values(items)[0].id}`,{\n\t\t\t\tmethod: \"GET\",\n\t\t\t\tmode: \"cors\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/x-www-form-urlencoded\",\n\t\t\t\t\t\"Access-Control-Allow-Origin\": \"*\",\n\t\t\t\t\t\"x-access-token\": Cookies.get(\"token\"),\n\t\t\t\t}\n\t\t\t\t})\n\t\t\t}).then((response) => response.json())\n\t\t\t.then((resp_items) =>{\n\t\t\t\tconsole.log(resp_items + \" New Response\")\n\t\t\t})\n\n\n\n\n\t}, []);\n\n\n\n\n// TESTING\nconst changeTest = e => {\nconsole.log(e.target.value)\n}\n    var {loaded } = messageItem;\n\n\tif (!loaded) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<p>Loading...</p>\n\t\t\t</>\n\t\t);\n\t} else {\n\n    return(\n        <>\n        <div className='app-bg'>\n            {/* Card  */}\n            <div className='cardHolder'>\n            <div className='message_card'>\n\t\t\t\t<div className=\"image_holder\">\n\t\t\t\t\t<img className=\"displayImg\" src={`http://localhost:5000/images/${selectID.id}`} alt='content_image'/>\n\t\t\t\t</div>\n            </div>\n            </div>\n\n        <h2 style={{textAlign: 'left', marginLeft: '5%'}}>Select Template</h2>\n        <select id='selectId' onChange={changeTest}>\n            {messageItem.items.map((obj)=>(\n                <option style={{color:'#6B6B6B', display: 'flex', flexDirection: 'column'}} key={obj.id} value={obj.id}>{obj.title}</option>\n                ))}\n        </select>\n        <div className='msgBtn'>\n        <CreateMsgbutton />\n        </div>\n       <Footer />\n        </div>\n        </>\n    )}\n}\n\nexport default Message;"]},"metadata":{},"sourceType":"module"}