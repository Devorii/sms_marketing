{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import _objectSpread from\"/Users/devorii/Desktop/sms_beta/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import _slicedToArray from\"/Users/devorii/Desktop/sms_beta/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import Cookies from\"js-cookie\";var CreateMsgForm=function CreateMsgForm(props){var _useState=useState(),_useState2=_slicedToArray(_useState,2),message=_useState2[0],setmessage=_useState2[1];useEffect(function(){setmessage(props.user);},[]);var onSubmit=function onSubmit(e){e.preventDefault();var formdata=new FormData();formdata.append(\"title\",message.title);formdata.append(\"message\",message.message);formdata.append(\"url\",message.url);formdata.append(\"image\",message.image,\"\".concat(message.image.name));fetch(\"http://devorii.pythonanywhere.com/create-message\",{method:\"POST\",mode:\"cors\",headers:{\"Access-Control-Allow-Origin\":\"*\",\"x-access-token\":Cookies.get(\"token\")},body:formdata}).then(function(response){return response.text();}).then(function(result){return window.location='http://localhost:3000/messages';}).catch(function(error){return console.log(\"error\",error);});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"form_modal_wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{style:{textAlign:\"left\",color:\"rgb(2, 68, 174)\"},children:[\" \",\"Create New Template\",\" \"]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,encType:\"multipart/form-data\",id:\"form-data\",children:[/*#__PURE__*/_jsx(\"label\",{id:\"email\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{className:\"cus-input\",type:\"text\",name:\"title\",placeholder:\"Name\",onChange:function onChange(e){return setmessage(_objectSpread(_objectSpread({},message),{},{title:e.target.value}));}}),/*#__PURE__*/_jsx(\"label\",{id:\"email\",children:\"Custom SMS Message\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"messagebox\",placeholder:\"Write your custom sms messages here...\",name:\"message\",rows:\"5\",cols:\"40\",onChange:function onChange(e){return setmessage(_objectSpread(_objectSpread({},message),{},{message:e.target.value}));}}),/*#__PURE__*/_jsx(\"label\",{id:\"email\",children:\"Url\"}),/*#__PURE__*/_jsx(\"input\",{className:\"cus-input\",type:\"text\",name:\"url\",placeholder:\"www.yoururl.com/here\",onChange:function onChange(e){return setmessage(_objectSpread(_objectSpread({},message),{},{url:e.target.value}));}}),/*#__PURE__*/_jsx(\"input\",{name:\"image\",id:\"file\",type:\"file\",accept:\"image/jpeg\",onChange:function onChange(e){return setmessage(_objectSpread(_objectSpread({},message),{},{image:e.target.files[0]}));}}),/*#__PURE__*/_jsx(\"input\",{id:\"submit-btn\",type:\"submit\",value:\"Create Contact\"})]})]})})});};export default CreateMsgForm;","map":{"version":3,"sources":["/Users/devorii/Desktop/sms_beta/src/components/CreateMsgForm.js"],"names":["React","useEffect","useState","Cookies","CreateMsgForm","props","message","setmessage","user","onSubmit","e","preventDefault","formdata","FormData","append","title","url","image","name","fetch","method","mode","headers","get","body","then","response","text","result","window","location","catch","error","console","log","textAlign","color","target","value","files"],"mappings":"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","sourcesContent":["import React, { useEffect, useState} from \"react\";\nimport Cookies from \"js-cookie\";\n\nconst CreateMsgForm = (props) => {\n\tconst [message, setmessage] = useState();\n\n\tuseEffect(() => {\n\t\tsetmessage(props.user);\n\t}, []);\n\n\tconst onSubmit = (e) => {\n\t\te.preventDefault();\n\n\t\tvar formdata = new FormData();\n\t\tformdata.append(\"title\", message.title);\n\t\tformdata.append(\"message\", message.message);\n\t\tformdata.append(\"url\", message.url);\n\t\tformdata.append(\"image\", message.image,`${message.image.name}`);\n\n\n\t\tfetch(\"http://devorii.pythonanywhere.com/create-message\", {\n\t\t\tmethod: \"POST\",\n\t\t\tmode: \"cors\",\n\t\t\theaders: {\n\t\t\t\t\"Access-Control-Allow-Origin\": \"*\",\n\t\t\t\t\"x-access-token\": Cookies.get(\"token\"),\n\t\t\t},\n\t\t\tbody: formdata,\n\t\t})\n\t\t\t.then((response) => response.text())\n\t\t\t.then((result) => window.location= 'http://localhost:3000/messages')\n\t\t\t.catch((error) => console.log(\"error\", error));\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<div className='form_modal_wrapper'>\n\t\t\t\t<div>\n\t\t\t\t\t{\n\t\t\t\t\t\t<h2 style={{ textAlign: \"left\", color: \"rgb(2, 68, 174)\" }}>\n\t\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t\tCreate New Template{\" \"}\n\t\t\t\t\t\t</h2>\n\t\t\t\t\t}\n\n\t\t\t\t\t<form\n\t\t\t\t\t\tonSubmit={onSubmit}\n\t\t\t\t\t\tencType='multipart/form-data'\n\t\t\t\t\t\tid='form-data'>\n\t\t\t\t\t\t<label id='email'>Title</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclassName='cus-input'\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tname='title'\n\t\t\t\t\t\t\tplaceholder='Name'\n\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\tsetmessage({ ...message, title: e.target.value })\n\t\t\t\t\t\t\t}></input>\n\t\t\t\t\t\t<label id='email'>Custom SMS Message</label>\n\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\tclassName='messagebox'\n\t\t\t\t\t\t\tplaceholder='Write your custom sms messages here...'\n\t\t\t\t\t\t\tname='message'\n\t\t\t\t\t\t\trows='5'\n\t\t\t\t\t\t\tcols='40'\n\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\tsetmessage({ ...message, message: e.target.value })\n\t\t\t\t\t\t\t}></textarea>\n\t\t\t\t\t\t<label id='email'>Url</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclassName='cus-input'\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tname='url'\n\t\t\t\t\t\t\tplaceholder='www.yoururl.com/here'\n\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\tsetmessage({ ...message, url: e.target.value })\n\t\t\t\t\t\t\t}></input>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tname='image'\n\t\t\t\t\t\t\tid='file'\n\t\t\t\t\t\t\ttype='file'\n\t\t\t\t\t\t\taccept=\"image/jpeg\"\n\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\tsetmessage({ ...message, image: e.target.files[0] })\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<input id='submit-btn' type='submit' value='Create Contact'></input>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n\nexport default CreateMsgForm;\n"]},"metadata":{},"sourceType":"module"}