{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import _objectSpread from\"/Users/devorii/Desktop/sms_beta/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/Users/devorii/Desktop/sms_beta/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import Cookies from\"js-cookie\";var FormModal=function FormModal(props){var _useState=useState(),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),render=_useState4[0],setRender=_useState4[1];useEffect(function(){setUser(props.user);},[]);var submit=function submit(e){e.preventDefault();fetch('http://devorii.pythonanywhere.com/create-contact',{method:'POST',body:JSON.stringify({user:user}),mode:'cors',headers:{'Content-Type':'application/x-www-form-urlencoded','Access-Control-Allow-Origin':'*',\"x-access-token\":Cookies.get(\"token\")}}).then(function(res){return res.json();}).then(function(json){if(json.status===200){window.location='http://localhost:3000/contacts';}else{setRender(!render);}});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"form_modal_wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{style:{textAlign:'left',color:'rgb(2, 68, 174)'},children:\" Create New Contact \"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:submit,id:\"form-data\",children:[/*#__PURE__*/_jsx(\"label\",{id:\"email\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{className:\"cus-input\",type:\"text\",name:\"name\",placeholder:\"Name\",onChange:function onChange(e){return setUser(_objectSpread(_objectSpread({},user),{},{name:e.target.value}));}}),/*#__PURE__*/_jsx(\"label\",{id:\"email\",children:\"Number\"}),/*#__PURE__*/_jsx(\"input\",{className:\"cus-input\",name:\"user\",type:\"tel\",pattern:\"[0-9]{3} [0-9]{3} [0-9]{4}\",placeholder:\"647 123 4567\",onChange:function onChange(e){return setUser(_objectSpread(_objectSpread({},user),{},{number:e.target.value}));}}),/*#__PURE__*/_jsx(\"input\",{id:\"submit-btn\",type:\"submit\",value:\"Create Contact\"})]})]})})});};export default FormModal;","map":{"version":3,"sources":["/Users/devorii/Desktop/sms_beta/src/components/CreateContact.js"],"names":["React","useEffect","useState","Cookies","FormModal","props","user","setUser","render","setRender","submit","e","preventDefault","fetch","method","body","JSON","stringify","mode","headers","get","then","res","json","status","window","location","textAlign","color","name","target","value","number"],"mappings":"wbAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,KAAD,CAAW,eACDH,QAAQ,EADP,wCAClBI,IADkB,eACZC,OADY,8BAEGL,QAAQ,CAAC,KAAD,CAFX,yCAElBM,MAFkB,eAEVC,SAFU,eAIzBR,SAAS,CAAC,UAAI,CACVM,OAAO,CAACF,KAAK,CAACC,IAAP,CAAP,CACH,CAFQ,CAEN,EAFM,CAAT,CAIA,GAAMI,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAAAC,CAAC,CAAG,CACfA,CAAC,CAACC,cAAF,GAEAC,KAAK,CAAC,kDAAD,CAAoD,CACrDC,MAAM,CAAE,MAD6C,CAErDC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAAEX,IAAI,CAAJA,IAAF,CAAf,CAF+C,CAGrDY,IAAI,CAAE,MAH+C,CAIrDC,OAAO,CAAE,CACL,eAAgB,mCADX,CAEL,8BAA+B,GAF1B,CAGL,iBAAkBhB,OAAO,CAACiB,GAAR,CAAY,OAAZ,CAHb,CAJ4C,CAApD,CAAL,CASGC,IATH,CASQ,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EATX,EAUCF,IAVD,CAUM,SAAAE,IAAI,CAAI,CACV,GAAIA,IAAI,CAACC,MAAL,GAAgB,GAApB,CAAwB,CACpBC,MAAM,CAACC,QAAP,CAAkB,gCAAlB,CACH,CAFD,IAEM,CAEFjB,SAAS,CAAC,CAACD,MAAF,CAAT,CACH,CACJ,CAjBD,EAkBH,CArBD,CAwBH,mBACO,sCAEN,YAAM,SAAS,CAAC,oBAAhB,uBACU,oCAEC,WAAI,KAAK,CAAE,CAACmB,SAAS,CAAE,MAAZ,CAAoBC,KAAK,CAAE,iBAA3B,CAAX,kCAFD,cAGT,cAAM,QAAQ,CAAElB,MAAhB,CAAwB,EAAE,CAAC,WAA3B,wBACC,cAAO,EAAE,CAAC,OAAV,kBADD,cAEC,cACC,SAAS,CAAC,WADX,CAEC,IAAI,CAAC,MAFN,CAGC,IAAI,CAAC,MAHN,CAIC,WAAW,CAAC,MAJb,CAKC,QAAQ,CAAE,kBAACC,CAAD,QACTJ,CAAAA,OAAO,gCAAMD,IAAN,MAAYuB,IAAI,CAAElB,CAAC,CAACmB,MAAF,CAASC,KAA3B,GADE,EALX,EAFD,cAUC,cAAO,EAAE,CAAC,OAAV,oBAVD,cAWC,cACC,SAAS,CAAC,WADX,CAEC,IAAI,CAAC,MAFN,CAGgB,IAAI,CAAC,KAHrB,CAIgB,OAAO,CAAC,4BAJxB,CAKgB,WAAW,CAAC,cAL5B,CAOC,QAAQ,CAAE,kBAACpB,CAAD,QACTJ,CAAAA,OAAO,gCAAMD,IAAN,MAAY0B,MAAM,CAAErB,CAAC,CAACmB,MAAF,CAASC,KAA7B,GADE,EAPX,EAXD,cAqBC,cAAO,EAAE,CAAC,YAAV,CAAuB,IAAI,CAAC,QAA5B,CAAqC,KAAK,CAAC,gBAA3C,EArBD,GAHS,GADV,EAFM,EADP,CAkCA,CAlED,CAoEA,cAAe3B,CAAAA,SAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Cookies from \"js-cookie\";\n\nconst FormModal = (props) => {\n    const [user, setUser] = useState()\n    const [render, setRender] = useState(false)\n\n    useEffect(()=>{\n        setUser(props.user)\n    }, [])\n\n    const submit = e =>{\n        e.preventDefault();\n\n        fetch('http://devorii.pythonanywhere.com/create-contact',{\n            method: 'POST',\n            body: JSON.stringify({ user }),\n            mode: 'cors',\n            headers: {\n                'Content-Type': 'application/x-www-form-urlencoded',\n                'Access-Control-Allow-Origin': '*',\n                \"x-access-token\": Cookies.get(\"token\"),\n            }\n        }).then(res => res.json())\n        .then(json => {\n            if (json.status === 200){\n                window.location = 'http://localhost:3000/contacts'\n            } else{\n\n                setRender(!render)\n            }\n        })\n    }\n\n\n\treturn (\n        <>\n        {/* <div  className='bg_blur'></div> */}\n\t\t<div  className='form_modal_wrapper'>\n            <div>\n\n            {<h2 style={{textAlign: 'left', color: 'rgb(2, 68, 174)'}}> Create New Contact </h2>}\n\t\t\t<form onSubmit={submit} id='form-data'>\n\t\t\t\t<label id='email'>Name</label>\n\t\t\t\t<input\n\t\t\t\t\tclassName='cus-input'\n\t\t\t\t\ttype='text'\n\t\t\t\t\tname='name'\n\t\t\t\t\tplaceholder='Name'\n\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\tsetUser({ ...user, name: e.target.value })}>\n\t\t\t\t</input>\n\t\t\t\t<label id='email'>Number</label>\n\t\t\t\t<input\n\t\t\t\t\tclassName='cus-input'\n\t\t\t\t\tname='user'\n                    type='tel'\n                    pattern=\"[0-9]{3} [0-9]{3} [0-9]{4}\"\n                    placeholder='647 123 4567'\n\n\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\tsetUser({ ...user, number: e.target.value })}\n\t\t\t\t></input>\n\t\t\t\t<input id='submit-btn' type='submit' value='Create Contact'></input>\n\t\t\t</form>\n            </div>\n\t\t</div>\n        </>\n\t);\n};\n\nexport default FormModal;\n"]},"metadata":{},"sourceType":"module"}