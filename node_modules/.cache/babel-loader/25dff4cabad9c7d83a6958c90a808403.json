{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import _slicedToArray from\"/Users/devorii/Desktop/sms_beta/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import Cookies from\"js-cookie\";var PopupModal=function PopupModal(props){var _useState=useState({id:props.id,name:props.name,number:props.num}),_useState2=_slicedToArray(_useState,2),propsInfo=_useState2[0],setPropsInfo=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),user=_useState4[0],setUser=_useState4[1];var submit=function submit(e){e.preventDefault();fetch(\"http://devorii.pythonanywhere.com/update-contacts/\".concat(props.id),{method:'PUT',body:JSON.stringify({user:user}),mode:'cors',headers:{'Content-Type':'application/x-www-form-urlencoded','Access-Control-Allow-Origin':'*',\"x-access-token\":Cookies.get(\"token\")}}).then(function(res){return res.json();}).then(function(json){if(json.status===200){window.location='http://localhost:3000/contacts';}else{}});};var deleteBtn=function deleteBtn(e){e.preventDefault();fetch(\"http://devorii.pythonanywhere.com/delete-contacts/\".concat(props.id),{method:'DELETE',mode:'cors',headers:{'Content-Type':'application/x-www-form-urlencoded','Access-Control-Allow-Origin':'*',\"x-access-token\":Cookies.get(\"token\")}}).then(function(res){return res.json();}).then(function(json){if(json.status===200){window.location='http://localhost:3000/contacts';}else{}});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"form_modal_wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{style:{textAlign:'left',color:'rgb(2, 68, 174)'},children:[\" \",props.name,\" \"]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:submit,id:\"form-data\",children:[/*#__PURE__*/_jsx(\"label\",{id:\"email\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{className:\"cus-input\",type:\"text\",name:\"name\",value:propsInfo.name,onChange:function onChange(e){setPropsInfo({name:e.target.value});setUser({name:e.target.value,number:props.num});}}),/*#__PURE__*/_jsx(\"label\",{id:\"email\",children:\"Number\"}),/*#__PURE__*/_jsx(\"input\",{className:\"cus-input\",name:\"user\",type:\"tel\",pattern:\"[0-9]{3} [0-9]{3} [0-9]{4}\",value:propsInfo.number,onChange:function onChange(e){setPropsInfo({number:e.target.value});setUser({name:props.name,number:e.target.value});}}),/*#__PURE__*/_jsxs(\"div\",{className:\"submitBtnDiv\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"submit-btn-update\",type:\"submit\",value:\"Update\"}),/*#__PURE__*/_jsx(\"input\",{id:\"submit-btn-update\",type:\"button\",value:\"Delete\",onClick:deleteBtn})]})]})]})})});};export default PopupModal;","map":{"version":3,"sources":["/Users/devorii/Desktop/sms_beta/src/components/Popup-box.js"],"names":["React","useState","Cookies","PopupModal","props","id","name","number","num","propsInfo","setPropsInfo","user","setUser","submit","e","preventDefault","fetch","method","body","JSON","stringify","mode","headers","get","then","res","json","status","window","location","deleteBtn","textAlign","color","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport Cookies from \"js-cookie\";\n\n\n\nconst PopupModal = (props) =>{\n    const [propsInfo, setPropsInfo] = useState({\n        id: props.id,\n        name: props.name,\n        number: props.num\n    })\n    const [user, setUser] = useState()\n\n    const submit = e => {\n        e.preventDefault()\n\n        fetch(`http://devorii.pythonanywhere.com/update-contacts/${props.id}`,{\n            method: 'PUT',\n            body: JSON.stringify({ user }),\n            mode: 'cors',\n            headers: {\n                'Content-Type': 'application/x-www-form-urlencoded',\n                'Access-Control-Allow-Origin': '*',\n                \"x-access-token\": Cookies.get(\"token\"),\n            }\n        }).then(res => res.json())\n        .then(json => {\n            if (json.status === 200){\n                window.location = 'http://localhost:3000/contacts'\n            } else{\n\n\n            }\n        })\n\n    }\n    const deleteBtn = e => {\n        e.preventDefault()\n\n        fetch(`http://devorii.pythonanywhere.com/delete-contacts/${props.id}`,{\n            method: 'DELETE',\n            mode: 'cors',\n            headers: {\n                'Content-Type': 'application/x-www-form-urlencoded',\n                'Access-Control-Allow-Origin': '*',\n                \"x-access-token\": Cookies.get(\"token\"),\n            }\n        }).then(res => res.json())\n        .then(json => {\n            if (json.status === 200){\n                window.location = 'http://localhost:3000/contacts'\n            } else{\n\n\n            }\n\n        })\n    }\n\n\n\n    return(\n        <>\n        <div  className='form_modal_wrapper'>\n            <div>\n            {<h2 style={{textAlign: 'left', color: 'rgb(2, 68, 174)'}}> {props.name} </h2>}\n\t\t\t<form onSubmit={submit} id='form-data'>\n\t\t\t\t<label id='email'>Name</label>\n\t\t\t\t<input\n\t\t\t\t\tclassName='cus-input'\n\t\t\t\t\ttype='text'\n                    name='name'\n                    value={propsInfo.name}\n\t\t\t\t\tonChange={(e) =>{\n                        setPropsInfo({name: e.target.value})\n                        setUser({name: e.target.value, number: props.num})\n                    }}>\n\t\t\t\t</input>\n\t\t\t\t<label id='email'>Number</label>\n\t\t\t\t<input\n\t\t\t\t\tclassName='cus-input'\n\t\t\t\t\tname='user'\n                    type='tel'\n                    pattern=\"[0-9]{3} [0-9]{3} [0-9]{4}\"\n                    value={propsInfo.number}\n                    onChange={(e) =>\n                        {\n                            setPropsInfo({ number: e.target.value})\n                            setUser({name: props.name, number: e.target.value})\n\n                        }\n\t\t\t\t\t\t}\n\t\t\t\t></input>\n                <div className='submitBtnDiv'>\n                <input id='submit-btn-update' type='submit' value='Update'></input>\n                <input id='submit-btn-update' type='button' value='Delete' onClick={deleteBtn}></input>\n                </div>\n\n\t\t\t</form>\n            </div>\n\t\t</div>\n\n        </>\n    )\n\n}\n\nexport default PopupModal;"]},"metadata":{},"sourceType":"module"}