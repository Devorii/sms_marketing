{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import _objectSpread from\"/Users/devorii/Desktop/sms_beta/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/Users/devorii/Desktop/sms_beta/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import Cookies from\"js-cookie\";var UpdateMessages=function UpdateMessages(props){var _useState=useState(),_useState2=_slicedToArray(_useState,2),message=_useState2[0],setmessage=_useState2[1];var _useState3=useState({title:null,message:null,url:null,loaded:false}),_useState4=_slicedToArray(_useState3,2),updateInfo=_useState4[0],setUpdateInfo=_useState4[1];useEffect(function(){setmessage(props.user);setUpdateInfo({title:props.title,message:props.message,url:props.url,loaded:true});},[props]);var onSubmit=function onSubmit(e){e.preventDefault();var formdata=new FormData();formdata.append(\"title\",message.title);formdata.append(\"message\",message.message);formdata.append(\"url\",message.url);formdata.append(\"image\",message.image,\"\".concat(message.image.name));fetch(\"http://devorii.pythonanywhere.com/update-messages/\".concat(props.id),{method:\"PUT\",mode:\"cors\",headers:{\"Access-Control-Allow-Origin\":\"*\",\"x-access-token\":Cookies.get(\"token\")},body:formdata}).then(function(response){return response.text();}).then(function(result){return window.location.reload();}).catch(function(error){return console.log(\"error\",error);});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"form_modal_wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{style:{textAlign:\"left\",color:\"rgb(2, 68, 174)\"},children:\"Update \".concat(props.title)}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,encType:\"multipart/form-data\",id:\"form-data\",children:[/*#__PURE__*/_jsx(\"label\",{id:\"email\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{required:true,className:\"cus-input\",type:\"text\",name:\"title\",value:updateInfo.loaded?updateInfo.title:\"Loading...\",onChange:function onChange(e){setUpdateInfo({title:e.target.value,loaded:true});setmessage(_objectSpread(_objectSpread({},message),{},{title:e.target.value}));}}),/*#__PURE__*/_jsx(\"label\",{id:\"email\",children:\"Custom SMS Message\"}),/*#__PURE__*/_jsx(\"textarea\",{required:true,className:\"messagebox\",value:updateInfo.loaded?updateInfo.message:\"Loading...\",name:\"message\",rows:\"5\",cols:\"40\",onChange:function onChange(e){return setmessage(_objectSpread(_objectSpread({},message),{},{message:e.target.value}));}}),/*#__PURE__*/_jsx(\"label\",{id:\"email\",children:\"Url\"}),/*#__PURE__*/_jsx(\"input\",{required:true,className:\"cus-input\",type:\"text\",name:\"url\",value:updateInfo.loaded?updateInfo.url:\"Loading...\",onChange:function onChange(e){return setmessage(_objectSpread(_objectSpread({},message),{},{url:e.target.value}));}}),/*#__PURE__*/_jsx(\"input\",{required:true,name:\"image\",id:\"file\",type:\"file\",accept:\"image/jpeg\",onChange:function onChange(e){return setmessage(_objectSpread(_objectSpread({},message),{},{image:e.target.files[0]}));}}),/*#__PURE__*/_jsx(\"input\",{id:\"submit-btn\",type:\"submit\",value:\"Update Message\"})]})]})})});};export default UpdateMessages;","map":{"version":3,"sources":["/Users/devorii/Desktop/sms_beta/src/components/UpdateMessages.js"],"names":["React","useEffect","useState","Cookies","UpdateMessages","props","message","setmessage","title","url","loaded","updateInfo","setUpdateInfo","user","onSubmit","e","preventDefault","formdata","FormData","append","image","name","fetch","id","method","mode","headers","get","body","then","response","text","result","window","location","reload","catch","error","console","log","textAlign","color","target","value","files"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Cookies from \"js-cookie\";\n\nconst UpdateMessages = (props) => {\n\tconst [message, setmessage] = useState();\n\tconst [updateInfo, setUpdateInfo] = useState({\n\t\ttitle: null,\n\t\tmessage: null,\n\t\turl: null,\n\t\tloaded: false,\n\t});\n\n\tuseEffect(() => {\n        setmessage(props.user);\n\t\tsetUpdateInfo({\n\t\t\ttitle: props.title,\n\t\t\tmessage: props.message,\n\t\t\turl: props.url,\n\t\t\tloaded: true,\n\t\t});\n\t}, [props]);\n\n\tconst onSubmit = (e) => {\n\t\te.preventDefault();\n\n\t\tvar formdata = new FormData();\n\t\tformdata.append(\"title\", message.title);\n\t\tformdata.append(\"message\", message.message);\n\t\tformdata.append(\"url\", message.url);\n\t\tformdata.append(\"image\", message.image, `${message.image.name}`);\n\n\t\tfetch(`http://devorii.pythonanywhere.com/update-messages/${props.id}`, {\n\t\t\tmethod: \"PUT\",\n\t\t\tmode: \"cors\",\n\t\t\theaders: {\n\t\t\t\t\"Access-Control-Allow-Origin\": \"*\",\n\t\t\t\t\"x-access-token\": Cookies.get(\"token\"),\n\t\t\t},\n\t\t\tbody: formdata,\n\t\t})\n\t\t\t.then((response) => response.text())\n\t\t\t.then((result) => window.location.reload())\n\t\t\t.catch((error) => console.log(\"error\", error));\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<div className='form_modal_wrapper'>\n\t\t\t\t<div>\n\t\t\t\t\t{\n\t\t\t\t\t\t<h2 style={{ textAlign: \"left\", color: \"rgb(2, 68, 174)\" }}>\n\t\t\t\t\t\t\t{`Update ${props.title}`}\n\t\t\t\t\t\t</h2>\n\t\t\t\t\t}\n\n\t\t\t\t\t<form\n\t\t\t\t\t\tonSubmit={onSubmit}\n\t\t\t\t\t\tencType='multipart/form-data'\n\t\t\t\t\t\tid='form-data'>\n\t\t\t\t\t\t<label id='email'>Title</label>\n\t\t\t\t\t\t<input\n                        required\n\t\t\t\t\t\t\tclassName='cus-input'\n\t\t\t\t\t\t\ttype='text'\n                            name='title'\n\t\t\t\t\t\t\tvalue={updateInfo.loaded ? updateInfo.title : \"Loading...\"}\n\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\tsetUpdateInfo({ title: e.target.value, loaded: true });\n\t\t\t\t\t\t\t\tsetmessage({ ...message, title: e.target.value });\n\t\t\t\t\t\t\t}}></input>\n\t\t\t\t\t\t<label id='email'>Custom SMS Message</label>\n\t\t\t\t\t\t<textarea\n                        required\n\t\t\t\t\t\t\tclassName='messagebox'\n\t\t\t\t\t\t\tvalue={updateInfo.loaded ? updateInfo.message : \"Loading...\"}\n\t\t\t\t\t\t\tname='message'\n\t\t\t\t\t\t\trows='5'\n                            cols='40'\n\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\tsetmessage({ ...message, message: e.target.value })\n\t\t\t\t\t\t\t}></textarea>\n\t\t\t\t\t\t<label id='email'>Url</label>\n\t\t\t\t\t\t<input\n                        required\n\t\t\t\t\t\t\tclassName='cus-input'\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tname='url'\n\t\t\t\t\t\t\tvalue={updateInfo.loaded ? updateInfo.url : \"Loading...\"}\n\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\tsetmessage({ ...message, url: e.target.value })\n\t\t\t\t\t\t\t}></input>\n\t\t\t\t\t\t<input\n                        required\n\t\t\t\t\t\t\tname='image'\n\t\t\t\t\t\t\tid='file'\n\t\t\t\t\t\t\ttype='file'\n\t\t\t\t\t\t\taccept=\"image/jpeg\"\n\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\tsetmessage({ ...message, image: e.target.files[0] })\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<input id='submit-btn' type='submit' value='Update Message'></input>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n\nexport default UpdateMessages;\n"]},"metadata":{},"sourceType":"module"}