{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/devorii/Desktop/sms_beta/src/pages/Contacts.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, useContext } from \"react\";\nimport Footer from \"../components/Footer\";\nimport Cookies from \"js-cookie\";\nimport Createbutton from \"../components/Createbutton\";\nimport PopupModal from \"../components/Popup-box\";\nimport { ContactContext } from \"../context/ContactsCtxt\";\nimport Sms from \"../assets/sms.svg\";\n\nconst Contacts = () => {\n  _s();\n\n  const {\n    contacts,\n    dispatch\n  } = useContext(ContactContext);\n  const [twilioNumber, setTwilioNumber] = useState({\n    number: \"loading\",\n    loaded: false\n  });\n  const [popup, setPopup] = useState(false);\n  const [selectedClient, setSelectedClient] = useState({\n    id: \"\",\n    name: \"\",\n    number: \"\"\n  });\n  const [query, setQuery] = useState();\n  useEffect(() => {\n    // setCookies(Cookies.get('token'))\n    // console.log(Cookies.get(\"token\"));\n    fetch(\"http://devorii.pythonanywhere.com/read-contacts\", {\n      method: \"GET\",\n      mode: \"cors\",\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"x-access-token\": Cookies.get(\"token\")\n      }\n    }).then(resp => resp.json()).then(items => {\n      dispatch({\n        type: \"ADD_CONTACTS\",\n        contacts: {\n          items: Object.values(items),\n          loaded: true\n        }\n      }); // Fetch twilio account number\n\n      fetch(\"http://devorii.pythonanywhere.com/twilio-number\", {\n        method: \"POST\",\n        mode: \"cors\",\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\",\n          \"Access-Control-Allow-Origin\": \"*\",\n          \"x-access-token\": Cookies.get(\"token\")\n        }\n      }).then(resp => resp.json()).then(obj => setTwilioNumber({\n        number: obj.message,\n        loaded: true\n      }));\n    });\n  }, [query]);\n  const loaded = contacts[0];\n\n  function popupModal(id, name, num) {\n    setPopup(!popup);\n    setSelectedClient({\n      id: id,\n      name: name,\n      number: num\n    });\n  }\n\n  if (loaded === undefined) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 5\n      }, this)\n    }, void 0, false);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app-bg\",\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pageTop\",\n        children: /*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"pagetitle pageDesc\",\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Contacts\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"page_greeting\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"pageDesc\",\n          children: \"Business Number\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"pageDesc\",\n          children: [twilioNumber.number, /*#__PURE__*/_jsxDEV(\"img\", {\n            style: {\n              marginLeft: \"4px\"\n            },\n            id: \"waveIcon\",\n            src: Sms,\n            alt: \"wave\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"ulStyle\",\n        children: contacts[0].contacts.items.map(obj => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"scrollDiv\",\n          style: {\n            color: \"#6B6B6B\",\n            display: \"flex\",\n            flexDirection: \"column\"\n          },\n          onClick: () => popupModal(obj.id, obj.name, obj.number),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: \"#0244AE\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"b\", {\n              children: obj.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 8\n          }, this), obj.number]\n        }, obj.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 7\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"create-btn-wrapper\",\n        children: [popup ? /*#__PURE__*/_jsxDEV(PopupModal, {\n          id: selectedClient.id,\n          name: selectedClient.name,\n          num: selectedClient.number\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 7\n        }, this) : null, /*#__PURE__*/_jsxDEV(Createbutton, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 4\n    }, this);\n  }\n};\n\n_s(Contacts, \"rZ6QjSjib1ak6hWXNYWPkg6SkBg=\");\n\n_c = Contacts;\nexport default Contacts;\n\nvar _c;\n\n$RefreshReg$(_c, \"Contacts\");","map":{"version":3,"sources":["/Users/devorii/Desktop/sms_beta/src/pages/Contacts.js"],"names":["React","useEffect","useState","useContext","Footer","Cookies","Createbutton","PopupModal","ContactContext","Contacts","contacts","dispatch","twilioNumber","setTwilioNumber","number","loaded","popup","setPopup","selectedClient","setSelectedClient","id","name","query","setQuery","fetch","method","mode","headers","get","then","resp","json","items","type","Object","values","obj","message","popupModal","num","undefined","marginLeft","Sms","map","color","display","flexDirection"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useContext } from \"react\";\nimport Footer from \"../components/Footer\";\nimport Cookies from \"js-cookie\";\nimport Createbutton from \"../components/Createbutton\";\nimport PopupModal from \"../components/Popup-box\";\nimport { ContactContext } from \"../context/ContactsCtxt\";\nimport Sms from \"../assets/sms.svg\";\n\nconst Contacts = () => {\n\tconst { contacts, dispatch } = useContext(ContactContext);\n\n\tconst [twilioNumber, setTwilioNumber] = useState({\n\t\tnumber: \"loading\",\n\t\tloaded: false,\n\t});\n\n\tconst [popup, setPopup] = useState(false);\n\tconst [selectedClient, setSelectedClient] = useState({\n\t\tid: \"\",\n\t\tname: \"\",\n\t\tnumber: \"\",\n\t});\n\tconst [query, setQuery] = useState();\n\n\tuseEffect(() => {\n\t\t// setCookies(Cookies.get('token'))\n\t\t// console.log(Cookies.get(\"token\"));\n\n\t\tfetch(\"http://devorii.pythonanywhere.com/read-contacts\", {\n\t\t\tmethod: \"GET\",\n\t\t\tmode: \"cors\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/x-www-form-urlencoded\",\n\t\t\t\t\"Access-Control-Allow-Origin\": \"*\",\n\t\t\t\t\"x-access-token\": Cookies.get(\"token\"),\n\t\t\t},\n\t\t})\n\t\t\t.then((resp) => resp.json())\n\t\t\t.then((items) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"ADD_CONTACTS\",\n\t\t\t\t\tcontacts: { items: Object.values(items), loaded: true },\n\t\t\t\t});\n\t\t\t\t// Fetch twilio account number\n\t\t\t\tfetch(\"http://devorii.pythonanywhere.com/twilio-number\", {\n\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\tmode: \"cors\",\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t\"Content-Type\": \"application/x-www-form-urlencoded\",\n\t\t\t\t\t\t\"Access-Control-Allow-Origin\": \"*\",\n\t\t\t\t\t\t\"x-access-token\": Cookies.get(\"token\"),\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t\t\t.then((resp) => resp.json())\n\t\t\t\t\t.then((obj) =>\n\t\t\t\t\t\tsetTwilioNumber({ number: obj.message, loaded: true })\n\t\t\t\t\t);\n\t\t\t});\n\t}, [query]);\n\n\tconst loaded = contacts[0];\n\n\tfunction popupModal(id, name, num) {\n\t\tsetPopup(!popup);\n\t\tsetSelectedClient({\n\t\t\tid: id,\n\t\t\tname: name,\n\t\t\tnumber: num,\n\t\t});\n\t}\n\n\tif (loaded === undefined) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<p>Loading...</p>\n\t\t\t</>\n\t\t);\n\t} else {\n\t\treturn (\n\t\t\t<div className='app-bg'>\n\t\t\t\t{\" \"}\n\t\t\t\t<div className='pageTop'>\n\t\t\t\t\t<h4 className='pagetitle pageDesc'>\n\t\t\t\t\t\t<b>Contacts</b>\n\t\t\t\t\t</h4>\n\t\t\t\t</div>\n\t\t\t\t<div className='page_greeting'>\n\t\t\t\t\t<h2 className='pageDesc'>Business Number</h2>\n\t\t\t\t\t<h2 className='pageDesc'>\n\t\t\t\t\t\t{twilioNumber.number}\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tstyle={{ marginLeft: \"4px\" }}\n\t\t\t\t\t\t\tid='waveIcon'\n\t\t\t\t\t\t\tsrc={Sms}\n\t\t\t\t\t\t\talt='wave'></img>\n\t\t\t\t\t</h2>\n\t\t\t\t</div>\n\t\t\t\t<ul className='ulStyle'>\n\t\t\t\t\t{contacts[0].contacts.items.map((obj) => (\n\t\t\t\t\t\t<li\n\t\t\t\t\t\t\tclassName='scrollDiv'\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tcolor: \"#6B6B6B\",\n\t\t\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\t\t\tflexDirection: \"column\",\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tkey={obj.id}\n\t\t\t\t\t\t\tonClick={() => popupModal(obj.id, obj.name, obj.number)}>\n\t\t\t\t\t\t\t<div style={{ color: \"#0244AE\" }}>\n\t\t\t\t\t\t\t\t<b>{obj.name}</b>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{obj.number}\n\t\t\t\t\t\t</li>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t\t<div id='create-btn-wrapper'>\n\t\t\t\t\t{popup ? (\n\t\t\t\t\t\t<PopupModal\n\t\t\t\t\t\t\tid={selectedClient.id}\n\t\t\t\t\t\t\tname={selectedClient.name}\n\t\t\t\t\t\t\tnum={selectedClient.number}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : null}\n\t\t\t\t\t<Createbutton />\n\t\t\t\t</div>\n\t\t\t\t<Footer />\n\t\t\t</div>\n\t\t);\n\t}\n};\n\nexport default Contacts;\n"]},"metadata":{},"sourceType":"module"}