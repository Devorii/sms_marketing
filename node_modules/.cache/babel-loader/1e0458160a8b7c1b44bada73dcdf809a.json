{"ast":null,"code":"import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/Users/devorii/Desktop/sms_beta/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import Cookies from\"js-cookie\";import{useParams}from'react-router-dom';var Iframe=function Iframe(props){var _useParams=useParams(),hash=_useParams.hash;var _useState=useState({url:'',loaded:false}),_useState2=_slicedToArray(_useState,2),storeUrl=_useState2[0],setStoreUrl=_useState2[1];useEffect(function(props){console.log(hash);fetch(\"http://devorii.pythonanywhere.com/link-to/\".concat(hash),{method:'POST',mode:'cors',headers:{\"Content-Type\":\"application/x-www-form-urlencoded\",\"Access-Control-Allow-Origin\":\"*\",\"x-access-token\":Cookies.get(\"token\")}}).then(function(response){return response.json();}).then(function(resp){setStoreUrl({url:resp.url,loaded:true});console.log(resp.url);});},[]);if(storeUrl.loaded===false){return/*#__PURE__*/_jsx(\"h1\",{children:\"Loading...\"});}else{return/*#__PURE__*/_jsx(\"iframe\",{className:\"siteView\",src:storeUrl.url});}};export default Iframe;","map":{"version":3,"sources":["/Users/devorii/Desktop/sms_beta/src/pages/Iframe.js"],"names":["React","useEffect","useState","Cookies","useParams","Iframe","props","hash","url","loaded","storeUrl","setStoreUrl","console","log","fetch","method","mode","headers","get","then","response","json","resp"],"mappings":"iMAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,OAAQC,SAAR,KAAwB,kBAAxB,CAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,KAAD,CAAW,gBACPF,SAAS,EADF,CACfG,IADe,YACfA,IADe,eAEUL,QAAQ,CAAC,CACrCM,GAAG,CAAE,EADgC,CAErCC,MAAM,CAAE,KAF6B,CAAD,CAFlB,wCAEfC,QAFe,eAELC,WAFK,eAOtBV,SAAS,CAAC,SAACK,KAAD,CAAW,CACjBM,OAAO,CAACC,GAAR,CAAYN,IAAZ,EAEAO,KAAK,qDAA8CP,IAA9C,EAAsD,CACvDQ,MAAM,CAAE,MAD+C,CAEvDC,IAAI,CAAE,MAFiD,CAGvDC,OAAO,CAAE,CACjB,eAAgB,mCADC,CAEjB,8BAA+B,GAFd,CAGjB,iBAAkBd,OAAO,CAACe,GAAR,CAAY,OAAZ,CAHD,CAH8C,CAAtD,CAAL,CASGC,IATH,CASQ,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,IAAT,EAAd,EATR,EAUCF,IAVD,CAUM,SAACG,IAAD,CAAQ,CACVX,WAAW,CAAC,CACRH,GAAG,CAAEc,IAAI,CAACd,GADF,CAERC,MAAM,CAAE,IAFA,CAAD,CAAX,CAIAG,OAAO,CAACC,GAAR,CAAYS,IAAI,CAACd,GAAjB,EACH,CAhBD,EAiBH,CApBQ,CAoBN,EApBM,CAAT,CAsBJ,GAAIE,QAAQ,CAACD,MAAT,GAAoB,KAAxB,CAA8B,CAC1B,mBAAO,kCAAP,CACH,CAFD,IAGI,CAEA,mBACI,eAAS,SAAS,CAAC,UAAnB,CAA8B,GAAG,CAAEC,QAAQ,CAACF,GAA5C,EADJ,CAKH,CAEA,CAzCD,CA0CA,cAAeH,CAAAA,MAAf","sourcesContent":["import React, {useEffect, useState} from 'react'\nimport Cookies from \"js-cookie\";\nimport {useParams} from 'react-router-dom'\n\nconst Iframe = (props) => {\n    const {hash} = useParams()\n    const [storeUrl, setStoreUrl] = useState({\n        url: '',\n        loaded: false\n    })\n\n    useEffect((props) => {\n        console.log(hash)\n\n        fetch(`http://devorii.pythonanywhere.com/link-to/${hash}`, {\n            method: 'POST',\n            mode: 'cors',\n            headers: {\n\t\t\t\t\"Content-Type\": \"application/x-www-form-urlencoded\",\n\t\t\t\t\"Access-Control-Allow-Origin\": \"*\",\n\t\t\t\t\"x-access-token\": Cookies.get(\"token\"),\n            }\n\n        }).then((response) => response.json())\n        .then((resp)=>{\n            setStoreUrl({\n                url: resp.url,\n                loaded: true\n            })\n            console.log(resp.url)\n        })\n    }, [])\n\nif (storeUrl.loaded === false){\n    return <h1>Loading...</h1>\n}\nelse{\n\n    return (\n        <iframe  className='siteView' src={storeUrl.url}>\n\n        </iframe>\n    )\n}\n\n}\nexport default Iframe;\n"]},"metadata":{},"sourceType":"module"}